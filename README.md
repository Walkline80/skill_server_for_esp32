#天猫自定义技能服务端（项目名：skill_server_for_esp32）
    
   ##前提条件：
    1. esp32已刷micrioython固件的开发板一块
    2. 天猫精灵一个
    3. 能上网的无线路由一台（能端口映射，让外网访问内网的80端口）
    
   ## 步骤一：
    1. 上传程序到esp32开发板
        boot.py  用于连接wifi
        main.py  天猫自定义技能服务端
        microWebSrv.py  web服务库文件
    2. esp32开发板连接到wifi
        用串口终端连接到esp32开发板后会提示输入要连接的wifi和密码信息（第一次运行的时候需要）
        连接wifi成功后，会看到esp32开发板获取到的ip地址（拿个小本本记下来）
    
    3. 查看外网ip    
        局域网内任何浏览器终端访问https://ip.51240.com/域名，页面可以看到自家宽带外网ip（拿个小本本记下来）
    
    4. 配置端口映射（内网穿透）
        提示：如果有其它内网穿透的手段此步自由发挥（如花生壳之类的）
        登陆到无线路由器，建立端口映射，有的路由器叫虚拟服务器，过程略
        （见img目录下的"虚拟服务器.png"）
    
    5、验证
        浏览器访url: http://外网ip：端口
        能显示skill_server_for_esp32后说明上面所有步骤ok。
        （见img目录下的"验证网页.png"）
        
   ## 步骤二：                                  
    1. 注册天猫精灵账户，登陆到开放平台
        1. 登陆：https://www.aligenie.com/
        2. 访问智能应用平台：https://iap.aligenie.com/home
        3. 创建技能：https://iap.aligenie.com/console/hybird/list
            * 技能名称：小助手
            * 技能调用词：小助手
            * 其它：随便填写，点击下一步，进入技能详情页
    
            选择《语音交互模型创建》菜单
                意图：
                    意图名称：小助手
                    意图标识：小助手
                    设为默认意图：是
                    （见img目录下的"编辑意图1.png"）
                    
                编辑意图详情
                    添加单轮对话表达
                        1、关闭灯
                        2、打开灯    
                    参数：
                        1、选中上一步的步骤1鼠标选中‘关闭’绑定实体，自定义实体
                        2、选中上一步的步骤2鼠标选中‘打开’绑定实体，自定义实体
                        3、提交
                        （见img目录下的"编辑意图2添加语料.png"）
                        
                回复逻辑：
                    点开 默认逻辑WEBHOOK，点击详情
                    下载认证文件，此步非常重要
                    把下载的认证文件的文件名和文件内容记录下来（小本本记好，步骤三要用到）。
                    网页不能关。。不能关。。。不能关
                    
                        
   ##步骤三：
    1. 修改服务端代码
        编辑run.py
            zhengshu={}
            zhengshu['url']='75c463e1d56ca9ca250c232bb83c5ffd.txt'  #修改为认证文件的文件名
            zhengshu['key']='Jfc4Z4Ur15JwUBuvUQD5wg7Nu8+l+HscqYlfofbyJdZpUywKEiamk2BzVIb1KIjo' #修改为认证文件内的内容
        
    2. 回到步骤二                                        
        填写URL：http://域名/skill/
        提交成功后即可                
        （见img目录下的"回复逻辑.png"）
        （见img目录下的"编辑url.png"）
        
   ##步骤四：
        测试技能
            在天猫技能的测试菜单下输入技能指令（见img目录下的"测试.png"）
